document.addEventListener("DOMContentLoaded",function(){Cookies.get("scrollTop")&&($(document)[0].body.scrollTop=Cookies.get("scrollTop"),console.log("scrolled!"))}),$(document).ready(function(){$(".portfolio-filter__categories").length>0&&($(".portfolio-filter__categories").on("submit",function(e){var o=window.pageYOffset||document.documentElement.scrollTop;Cookies.set("scrollTop",o,{expires:1.5/86400})}),$(".portfolio-filter__categories").on("change",function(e){$(this).submit()})),$(".page-heading").length>0&&($(".page-heading__filler").toggleClass("page-heading__filler_disabled"),$(".page-heading__heading").toggleClass("page-heading__heading_visible")),$(".portfolio-works").length>0&&setTimeout(function(){$(".portfolio-works__item").toggleClass("portfolio-works__item_hide"),$(".portfolio-works").toggleClass("portfolio-works_filler_on")},450)});var fwForm={initAjaxSubmit:function(e){var e=jQuery.extend({selector:"form[data-fw-form-id]",ajaxUrl:"undefined"!=typeof ajaxurl?ajaxurl:"undefined"!=typeof fwAjaxUrl?fwAjaxUrl:"/wp-admin/admin-ajax.php",loading:function(e,o){e.$form.css("position","relative"),e.$form.find("> .fw-form-loading").remove(),o&&e.$form.append('<div class="fw-form-loading" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.1);"></div>')},afterSubmitDelay:function(e){},onErrors:function(e,r){o?fwForm.backend.showFlashMessages(fwForm.backend.renderFlashMessages({error:r.errors})):jQuery.each(r.errors,function(o,r){r='<p class="form-error" style="color: #9b2922;">{message}</p>'.replace("{message}",r);var s=e.$form.find('[name="'+o+'"]').last();s.length||(s=e.$form.find('[name^="'+o+'["]').last()),s.length?s.parent().after(r):e.$form.prepend(r)})},hideErrors:function(e){e.$form.find(".form-error").remove()},onAjaxError:function(e,o){console.error(o.jqXHR,o.textStatus,o.errorThrown),alert("Ajax error (more details in console)")},onSuccess:function(e,r){if(o)fwForm.backend.showFlashMessages(fwForm.backend.renderFlashMessages(r.flash_messages));else{var s=fwForm.frontend.renderFlashMessages(r.flash_messages);s.length||(s="<p>Success</p>"),e.$form.fadeOut(function(){e.$form.html(s).fadeIn()}),e.$form.on("submit",function(e){e.preventDefault(),e.stopPropagation()})}}},e||{}),o="undefined"!=typeof adminpage&&jQuery(document.body).hasClass("wp-admin"),r=!1;jQuery(document.body).on("submit",e.selector,function(o){if(o.preventDefault(),r)return void console.warn("Working... Try again later.");var s=jQuery(this);if(!s.is("form[data-fw-form-id]"))return void console.error("This is not a FW_Form","Selector:".opts.selector,"Form:",s);var a=s.find(":submit:focus");a.length||(a=s.find("[clicked]:submit")),s.find("[clicked]:submit").removeAttr("clicked");var n={$form:s,$submitButton:a};e.hideErrors(n);var t=parseInt(e.loading(n,!s.hasClass("fw-silent-submit")));t=isNaN(t)||t<0?0:t,s.removeClass("fw-silent-submit"),r=!0,setTimeout(function(){t&&e.afterSubmitDelay(n),jQuery.ajax({type:"POST",url:e.ajaxUrl,data:s.serialize()+(a.length?"&"+a.attr("name")+"="+a.attr("value"):""),dataType:"json"}).done(function(o){r=!1,e.loading(n,!1),o.success?e.onSuccess(n,o.data):e.onErrors(n,o.data)}).fail(function(o,s,a){r=!1,e.loading(n,!1),e.onAjaxError(n,{jqXHR:o,textStatus:s,errorThrown:a})})},t)})},backend:{showFlashMessages:function(e){for(var o=jQuery(".wrap h2:first");o.next().is(".fw-flash-messages, .fw-flash-message, .updated, .update-nag, .error");)o.next().remove();o.after('<div class="fw-flash-messages">'+e+"</div>"),jQuery(document.body).animate({scrollTop:0},300)},renderFlashMessages:function(e){var o=[],r=[],s="";return jQuery.each(e,function(e,a){switch(r=[],e){case"error":s="error";break;case"warning":s="update-nag";break;default:s="updated"}jQuery.each(a,function(e,o){r.push('<div class="'+s+' fw-flash-message"><p>'+o+"</p></div>")}),r.length&&o.push('<div class="fw-flash-type-'+e+'">'+r.join('</div><div class="fw-flash-type-'+e+'">')+"</div>")}),o.join("")}},frontend:{renderFlashMessages:function(e){var o=[],r=[];return jQuery.each(e,function(e,s){r=[],jQuery.each(s,function(e,o){r.push('<li class="fw-flash-message">'+o+"</li>")}),r.length&&o.push('<ul class="fw-flash-type-'+e+'">'+r.join('</ul><ul class="fw-flash-type-'+e+'">')+"</ul>")}),o.join("")}}};